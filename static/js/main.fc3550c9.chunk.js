(this.webpackJsonpwapp=this.webpackJsonpwapp||[]).push([[0],{120:function(e,t,c){},126:function(e,t,c){},127:function(e,t,c){},128:function(e,t,c){},130:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(24),r=c.n(n),i=(c(95),c(39)),s=c.n(i),o=c(49),l=c(8),u=c(15),d=c(38),j=c(14),b="GET_DATA_FAILED",O="SET_DATA",v="SET_LOADING",f="SET_FAVORITE",h="SET_DEGREES",p="SET_UPDATE",m="SET_NAME",x="Cb4JVvleTdt5yXpZcm0RK3ARX6dsyfc1",g=c(51),y=c.n(g),w=function(e){return{type:O,data:e,loading:!1}},N=function(e){return{type:v,loading:e}},T=function(e){return{type:p,payload:e}},E=function(e){return function(){var t=Object(o.a)(s.a.mark((function t(c){var a,n,r,i,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c(N(!0)),t.next=4,y.a.get("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(x,"&q=").concat(e));case 4:return a=t.sent,n=a.data,t.next=8,n[0].Key;case 8:return r=t.sent,t.next=11,y.a.get("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(r,"?apikey=").concat(x));case 11:return i=t.sent,t.next=14,y.a.get("https://dataservice.accuweather.com/currentconditions/v1/".concat(r,"?apikey=").concat(x));case 14:o=t.sent,c(N(!1)),c(w({data:n,fiveDays:i.data,weather:o.data})),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(0),c(N(!1)),c({type:b,error:!0});case 23:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e){return t.apply(this,arguments)}}()},k=c(183),S=c(184),D=c(76),C=c.n(D),F=(c(120),c(2)),_=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.degrees})),c=function(){document.querySelector(".header_wrapper").classList.remove("open")};return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:"header_wrapper",children:[Object(F.jsx)("h1",{className:"logo",children:"Herolo Weather Task"}),Object(F.jsxs)(k.a,{color:"primary",value:t,exclusive:!0,onChange:function(t){var c,a=t.target;e((c=a.value,{type:h,payload:c,loading:!1}))},className:"switcher",children:[Object(F.jsx)(S.a,{value:"C",children:"C"}),Object(F.jsx)(S.a,{value:"F",children:"F"})]}),Object(F.jsxs)("nav",{className:"nav",children:[Object(F.jsx)(d.b,{className:"nav_link",to:"/",onClick:c,children:"Home"}),Object(F.jsx)(d.b,{className:"nav_link",to:"/favorites",onClick:c,children:"Favorites"})]})]}),Object(F.jsx)("div",{className:"mobile_menu",children:Object(F.jsx)(C.a,{className:"mobile_menu_icon",onClick:function(){document.querySelector(".header_wrapper").classList.toggle("open")}})})]})},A=c(178),I=c(182),L=(c(126),function(e){var t=e.arr,c=Object(u.c)((function(e){return e.degrees}));return t?t.map((function(e,t){var a,n=new Date(e.Date).toLocaleDateString("en-En",{weekday:"long"});return Object(F.jsxs)("div",{className:"card-wrapper",children:[Object(F.jsx)("h3",{children:n.slice(0,3)}),Object(F.jsxs)("p",{children:["F"===c?e.Temperature.Maximum.Value:(a=e.Temperature.Maximum.Value,Math.floor(5*(a-32)/9)),"\xb0",Object(F.jsx)("small",{children:c})]})]},n)})):""}),M=(c(127),c(179)),V=function(e){var t=Object(a.useState)(""),c=Object(l.a)(t,2),n=c[0],r=c[1],i=Object(u.b)();return Object(F.jsx)(M.a,{value:n,onChange:function(e){var t=e.target;r(t.value)},onKeyDown:function(e){"Enter"===e.key&&i(E(n))},InputProps:{className:"search"}})},U=function(e){var t=e.changeUpdate,c=e.weatherIcon,n=e.city,r=e.wText,i=e.temperature,s=e.fiveDays,o=Object(a.useState)(),d=Object(l.a)(o,2),j=d[0],b=d[1],O=Object(a.useState)(!1),v=Object(l.a)(O,2),h=v[0],p=v[1],m=Object(a.useState)(i),x=Object(l.a)(m,2),g=x[0],y=x[1],w=Object(a.useState)(s),N=Object(l.a)(w,2),T=N[0],E=N[1],k=Object(a.useState)(),S=Object(l.a)(k,2),D=S[0],C=S[1],_=Object(a.useState)(),M=Object(l.a)(_,2),U=M[0],R=M[1],W=Object(u.b)(),q=Object(u.c)((function(e){return e.favorites})),B=Object(u.c)((function(e){return e})),P=Object(u.c)((function(e){return e.degrees})),G=Object(u.c)((function(e){return e.error})),J=Object(a.useMemo)((function(){return B.loading||B.loadingWeather||B.loadingfiveDays}),[B.loading,B.loadingWeather,B.loadingfiveDays]);Object(a.useEffect)((function(){b(q),(null===j||void 0===j?void 0:j.some((function(e){return e.city===n})))?p(!0):p(!1)}),[q,j,n]),Object(a.useEffect)((function(){y(i),E(s)}),[i,s,J]),Object(a.useEffect)((function(){var e,t,c,a;"F"===P?(C(null===g||void 0===g||null===(e=g.Imperial)||void 0===e?void 0:e.Value),R(null===g||void 0===g||null===(t=g.Imperial)||void 0===t?void 0:t.Unit)):(C(null===g||void 0===g||null===(c=g.Metric)||void 0===c?void 0:c.Value),R(null===g||void 0===g||null===(a=g.Metric)||void 0===a?void 0:a.Unit))}),[P,g]);return Object(F.jsxs)("div",{className:"main",children:[Object(F.jsxs)("div",{className:"wrapper-upper",children:[Object(F.jsx)(V,{changeUpdate:t}),Object(F.jsx)(I.a,{variant:"outlined",onClick:function(){document.querySelector("body").classList.toggle("dark")},className:"changeThemeBtn",children:"Change Theme"})]}),Object(F.jsx)("div",{className:"wrapper",children:G?"Sorry, some error happened":J?"Loading...":n?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("section",{className:"section-first",children:[Object(F.jsxs)("div",{className:"left",children:[c?Object(F.jsx)("img",{className:"img",src:"https://www.accuweather.com/images/weathericons/".concat(c,".svg"),alt:"weather Icon"}):null,Object(F.jsxs)("div",{children:[Object(F.jsx)("h1",{children:n}),Object(F.jsxs)("p",{children:[D,"\xb0",Object(F.jsx)("small",{children:U})]})]})]}),Object(F.jsxs)("div",{className:"fav-wrapper",children:[Object(F.jsx)(A.a,{className:h?"fav-icon":""}),Object(F.jsx)(I.a,{onClick:function(){if(j.some((function(e){return e.city===n}))){var e=j.findIndex((function(e){return e.city===n}));j.splice(e,1),p(!1)}else p(!0),j.push({city:n,temperature:{value:g.Metric.Value,unit:g.Metric.Unit},desc:r});W({type:f,payload:j,loading:!1})},className:"favoriteBtn",children:"Add to favorite"})]})]}),Object(F.jsx)("section",{className:"section-second",children:Object(F.jsx)("h3",{children:r})}),Object(F.jsx)("section",{className:"section-third",children:Object(F.jsx)(L,{arr:T})})]}):"No data found"})]})},R=c(185),W=(c(128),function(){var e=Object(u.c)((function(e){return e.favorites})),t=Object(u.c)((function(e){return e.degrees})),c=Object(u.c)((function(e){return e})),a=Object(u.b)(),n=Object(j.f)(),r=function(e){a({type:m,payload:e}),a(T(!0)),c.loading||setTimeout((function(){return n("/")}),0)};return Object(F.jsx)("div",{className:e.length?"wrapper-fav":"",children:c.loading?Object(F.jsx)(R.a,{className:"loading"}):e.map((function(e){return Object(F.jsxs)("div",{className:"card",onClick:function(){return r(e.city)},children:[Object(F.jsx)("h3",{children:e.city}),Object(F.jsxs)("p",{children:["F"===t&&"F"!==e.temperature.unit?(c=e.temperature.value,Math.floor(9*c/5+32)):e.temperature.value,"\xb0 ",Object(F.jsx)("small",{children:t})]}),Object(F.jsx)("p",{children:e.desc})]},e.city);var c}))})});var q=function(){var e,t,c,n,r,i=Object(a.useState)({}),b=Object(l.a)(i,2),O=b[0],v=b[1],f=Object(a.useRef)("Tel-Aviv"),h=Object(u.c)((function(e){return e.data})),p=Object(u.c)((function(e){return e.update})),m=Object(u.b)(),x=Object(u.c)((function(e){return e.name}));return Object(a.useEffect)((function(){var e=function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(E(f.current));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object.keys(O).length||e()}),[]),Object(a.useEffect)((function(){p&&x.length&&(m(E(x)),m(T(!1)))}),[x,p]),Object(a.useEffect)((function(){v(h)}),[h]),Object(F.jsxs)(d.a,{className:"App",children:[Object(F.jsx)(_,{}),Object(F.jsx)("div",{className:"container",children:Object.keys(O).length?Object(F.jsxs)(j.c,{children:[Object(F.jsx)(j.a,{element:Object(F.jsx)(U,{weatherIcon:null===O||void 0===O||null===(e=O.weather[0])||void 0===e?void 0:e.WeatherIcon,city:null===O||void 0===O||null===(t=O.data[0])||void 0===t?void 0:t.LocalizedName,wText:null===O||void 0===O||null===(c=O.weather[0])||void 0===c?void 0:c.WeatherText,temperature:null===O||void 0===O||null===(n=O.weather[0])||void 0===n?void 0:n.Temperature,fiveDays:null===O||void 0===O||null===(r=O.fiveDays)||void 0===r?void 0:r.DailyForecasts}),path:"/",exact:!0}),Object(F.jsx)(j.a,{element:Object(F.jsx)(W,{}),path:"/favorites"})]}):null})]})},B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,186)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),r(e),i(e)}))},P=c(59),G=c(21),J={data:[],loading:!1,error:!1,favorites:[],degrees:"C",update:!1,name:""},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(G.a)(Object(G.a)({},e),{},{data:t.data,error:!1});case b:return Object(G.a)(Object(G.a)({},e),{},{error:!0});case v:return Object(G.a)(Object(G.a)({},e),{},{loading:t.loading});case f:return Object(G.a)(Object(G.a)({},e),{},{favorites:t.payload});case h:return Object(G.a)(Object(G.a)({},e),{},{degrees:t.payload});case p:return Object(G.a)(Object(G.a)({},e),{},{update:t.payload});case m:return Object(G.a)(Object(G.a)({},e),{},{name:t.payload});default:return e}},H=c(77),X=Object(P.b)(K,Object(P.a)(H.a));r.a.render(Object(F.jsx)(u.a,{store:X,children:Object(F.jsx)(q,{})}),document.getElementById("root")),B()},95:function(e,t,c){}},[[130,1,2]]]);
//# sourceMappingURL=main.fc3550c9.chunk.js.map